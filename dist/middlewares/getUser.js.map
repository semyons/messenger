{"version":3,"sources":["../../middlewares/getUser.js"],"names":["UserService","req","res","next","token","getUserByToken","user","message","status"],"mappings":";;;;;;AAGA;;IAAYA,W;;;;2cAHZ;;;;;;yDAIe,iBAAgBC,GAAhB,EAAoBC,GAApB,EAAwBC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACJC,6BADI,GACKH,GADL,CACJG,KADI;AAAA;AAAA;AAAA,+BAGUJ,YAAYK,cAAZ,CAA2BD,KAA3B,CAHV;;AAAA;AAGHE,4BAHG;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIFC,+BAJE,eAIFA,OAJE;AAAA,yDAKAJ,KAAK;AACRK,oCAAO,GADC;AAERD;AAFQ,yBAAL,CALA;;AAAA;AAUfN,4BAAIK,IAAJ,GAAWA,IAAX;AACIH;;AAXW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K","file":"getUser.js","sourcesContent":["/**\r\n * Created by Semyon on 31.03.2017.\r\n */\r\nimport * as UserService from '../services/UserService';\r\nexport default async function (req,res,next) {\r\n    const {token} = req;\r\n    try{\r\n        var user = await UserService.getUserByToken(token);\r\n    }catch ({message}){\r\n        return next({\r\n            status:500,\r\n            message\r\n        });\r\n    }\r\nreq.user = user;\r\n    next();\r\n}"]}