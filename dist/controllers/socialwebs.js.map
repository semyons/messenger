{"version":3,"sources":["../../controllers/socialwebs.js"],"names":["addsocialweb","req","res","next","findOne","ourtoken","headers","err","user","console","log","body","idvk","idok","idfb","idinsta","save","json","success","status","message"],"mappings":";;;;;;;AAGA;;;;;;2cAHA;;;;;AAKO,IAAMA;AAAA,yDAAe,kBAAMC,GAAN,EAAUC,GAAV,EAAcC,IAAd;AAAA;AAAA;AAAA;AAAA;AAC5B,4BAAG;AACC,2CAAKC,OAAL,CAAa,EAACC,UAASJ,IAAIK,OAAJ,CAAYD,QAAtB,EAAb;AAAA,sFAA6C,iBAAgBE,GAAhB,EAAoBC,IAApB;AAAA;AAAA;AAAA;AAAA;AACzC,wDAAIA,IAAJ,EAAS;AACLC,gEAAQC,GAAR,CAAYF,IAAZ;AACA,4DAAGP,IAAIU,IAAJ,CAASC,IAAZ,EAAiB;AAACJ,iEAAKI,IAAL,GAAUX,IAAIU,IAAJ,CAASC,IAAnB;AAAyB;AAC3C,4DAAGX,IAAIU,IAAJ,CAASE,IAAZ,EAAiB;AAACL,iEAAKK,IAAL,GAAUZ,IAAIU,IAAJ,CAASE,IAAnB;AAAyB;AAC3C,4DAAGZ,IAAIU,IAAJ,CAASG,IAAZ,EAAiB;AAACN,iEAAKM,IAAL,GAAUb,IAAIU,IAAJ,CAASG,IAAnB;AAAyB;AAC3C,4DAAGb,IAAIU,IAAJ,CAASI,OAAZ,EAAoB;AAACP,iEAAKO,OAAL,GAAad,IAAIU,IAAJ,CAASI,OAAtB;AAA+B;AACpDP,6DAAKQ,IAAL;AACAd,4DAAIe,IAAJ,CACIT,IADJ;AAGH,qDAVD,MAUK;AACDN,4DAAIe,IAAJ,CAAS;AACLC,qEAAQ,KADH;AAELC,oEAAO,GAFF;AAGLC,qEAAQ;AAHH,yDAAT;AAKH;;AAjBwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAA7C;;AAAA;AAAA;AAAA;AAAA;AAoBH,yBArBD,CAqBC,OAAOb,GAAP,EAAW;AACRL,gCAAIe,IAAJ,CAAS;AACLC,yCAAQ,KADH;AAELE,yCAAQ;AAFH,6BAAT;AAIH;;AA3B2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAf;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"socialwebs.js","sourcesContent":["/**\r\n * Created by Semyon on 28.07.2017.\r\n */\r\nimport User from '../models/user';\r\n\r\nexport const addsocialweb = async(req,res,next)=> {\r\ntry{\r\n    User.findOne({ourtoken:req.headers.ourtoken},async function (err,user) {\r\n        if (user){\r\n            console.log(user);\r\n            if(req.body.idvk){user.idvk=req.body.idvk;}\r\n            if(req.body.idok){user.idok=req.body.idok;}\r\n            if(req.body.idfb){user.idfb=req.body.idfb;}\r\n            if(req.body.idinsta){user.idinsta=req.body.idinsta;}\r\n            user.save();\r\n            res.json(\r\n                user\r\n            );\r\n        }else{\r\n            res.json({\r\n                success:false,\r\n                status:400,\r\n                message:'Cant find user with this token. Check your token'\r\n            });\r\n        }\r\n        \r\n    });\r\n}catch (err){\r\n    res.json({\r\n        success:false,\r\n        message:'some error while adding social web'\r\n    });\r\n}\r\n};\r\n"]}